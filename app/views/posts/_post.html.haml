%article.mb-3.pb-3.border-bottom.position-relative{ id: dom_id(post) }
  .d-flex.justify-content-between.align-items-center
    .text-muted
      = link_to_unless_current tag.relative_time(datetime: post.created_at), post_path(post),
        class: 'text-reset stretched-link', data: { testid: "post-link-#{post.id}" }
      - if post.created_at != post.updated_at
        %span ï½¥
        %span= t('posts.edited')
    .dropdown.p-1.my-n2
      %button.btn.btn-link.px-1.py-0.z-2.position-relative{ data: { bs_toggle: 'dropdown',
        testid: "post-dropdown-#{post.id}" } }
        %i.bi.bi-three-dots
      %ul.dropdown-menu.dropdown-menu-end
        %li= link_to t('general.edit'), edit_post_path(post), class: 'dropdown-item',
          data: { turbo_frame: dom_id(post, :content) }
        %li= button_to t('general.destroy'), post_path(post), method: :delete, class: 'dropdown-item text-danger',
          form: { data: { turbo_confirm: t('general.are_you_sure') } }
  = turbo_frame_tag dom_id(post, :content) do
    %span{ class: class_names('fs-4': local_assigns[:is_large_text]) }= post.content
  .d-flex.align-items-center
    .px-3.py-2
      %i.bi.bi-chat
    %small{ class: class_names('visually-hidden': post.children_count.zero?) }= post.children_count
